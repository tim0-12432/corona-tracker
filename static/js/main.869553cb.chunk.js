(this["webpackJsonpcorona-tracker"]=this["webpackJsonpcorona-tracker"]||[]).push([[0],{24:function(e,t,a){e.exports={container:"Cards_container__3PhoL",card:"Cards_card__1GIa5",infected:"Cards_infected__21Gau",recovered:"Cards_recovered__3BJI1",deaths:"Cards_deaths__sp6Io"}},252:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a(10),s=a.n(n),c=a(11),o=a.n(c),i=a(17),d=a(108),u=a(109),l=a(119),h=a(118),j=a(287),b=a(281),x=a(285),p=a(286),f=a(23),m=a.n(f),v=a(46),y=a.n(v),g=a(24),O=a.n(g),k=a(2),C=function(e){var t=e.data;return t.cases?Object(k.jsx)("div",{className:O.a.container,children:Object(k.jsxs)(b.a,{container:!0,spacing:3,justify:"center",children:[Object(k.jsx)(b.a,{item:!0,component:x.a,xs:12,md:!0,className:y()(O.a.card,O.a.infected),children:Object(k.jsxs)(p.a,{children:[Object(k.jsx)(j.a,{color:"textSecondary",gutterBottom:!0,children:"Infected"}),Object(k.jsx)(j.a,{variant:"h4",children:Object(k.jsx)(m.a,{start:0,end:t.cases,duration:2.5,separator:"."})}),Object(k.jsxs)(j.a,{variant:"h6",children:[t.delta.cases>0?"+":"",Object(k.jsx)(m.a,{start:0,end:t.delta.cases,duration:2.5,separator:"."})]}),Object(k.jsx)(j.a,{color:"textSecondary",children:new Date(t.meta.lastUpdate).toDateString()}),Object(k.jsx)(j.a,{variant:"body2",children:"Number of active cases of COVID-19"})]})}),Object(k.jsx)(b.a,{item:!0,component:x.a,xs:12,md:!0,className:y()(O.a.card,O.a.recovered),children:Object(k.jsxs)(p.a,{children:[Object(k.jsx)(j.a,{color:"textSecondary",gutterBottom:!0,children:"Recovered"}),Object(k.jsx)(j.a,{variant:"h4",children:Object(k.jsx)(m.a,{start:0,end:t.recovered,duration:2.5,separator:"."})}),Object(k.jsxs)(j.a,{variant:"h6",children:[t.delta.recovered>0?"+":"",Object(k.jsx)(m.a,{start:0,end:t.delta.recovered,duration:2.5,separator:"."})]}),Object(k.jsx)(j.a,{color:"textSecondary",children:new Date(t.meta.lastUpdate).toDateString()}),Object(k.jsx)(j.a,{variant:"body2",children:"Number of recovered cases of COVID-19"})]})}),Object(k.jsx)(b.a,{item:!0,component:x.a,xs:12,md:!0,className:y()(O.a.card,O.a.deaths),children:Object(k.jsxs)(p.a,{children:[Object(k.jsx)(j.a,{color:"textSecondary",gutterBottom:!0,children:"Deaths"}),Object(k.jsx)(j.a,{variant:"h4",children:Object(k.jsx)(m.a,{start:0,end:t.deaths,duration:2.5,separator:"."})}),Object(k.jsxs)(j.a,{variant:"h6",children:[t.delta.deaths>0?"+":"",Object(k.jsx)(m.a,{start:0,end:t.delta.deaths,duration:2.5,separator:"."})]}),Object(k.jsx)(j.a,{color:"textSecondary",children:new Date(t.meta.lastUpdate).toDateString()}),Object(k.jsx)(j.a,{variant:"body2",children:"Number of deaths caused by COVID-19"})]})}),Object(k.jsx)(b.a,{item:!0,component:x.a,xs:12,md:!0,className:y()(O.a.card),children:Object(k.jsxs)(p.a,{children:[Object(k.jsx)(j.a,{color:"textSecondary",gutterBottom:!0,children:t.name?t.name:"Germany"}),Object(k.jsxs)(j.a,{variant:"h6",children:["Weekly Incidence:",Object(k.jsx)("br",{}),Object(k.jsx)(m.a,{start:0,end:t.weekIncidence,duration:2.5,separator:"."})]}),Object(k.jsxs)(j.a,{variant:"h6",children:["Cases / 100k:",Object(k.jsx)("br",{}),Object(k.jsx)(m.a,{start:0,end:t.casesPer100k,duration:2.5,separator:"."})]}),Object(k.jsx)(j.a,{color:"textSecondary",children:new Date(t.meta.lastUpdate).toDateString()}),Object(k.jsx)(j.a,{variant:"body2",children:"Additional Information"})]})})]})}):"Loading..."},_=a(45),w=a(76),D=a(288),S=a(289),N=a(77),E=a.n(N),I=function(e){var t=e.data,a=e.dailyData,n=e.country,s=e.district,c=Object(r.useState)("line"),o=Object(_.a)(c,2),i=o[0],d=o[1],u=a&&0!==a.length||"germany"===n?Object(k.jsx)(w.Line,{data:{labels:a.map((function(e){var t=e.date;return new Date(t).toDateString()})),datasets:[{data:a.map((function(e){return e.cases})),label:"Infected",borderColor:"#ff3333",fill:!0},{data:a.map((function(e){return e.recovered})),label:"Recovered",borderColor:"#33ff33",fill:!0},{data:a.map((function(e){return e.deaths})),label:"Deaths",borderColor:"#333333",fill:!0}]}}):"Loading...",l=(null===t||void 0===t?void 0:t.cases)||"germany"===n?Object(k.jsx)(w.Bar,{data:{labels:["Infected","Recovered","Deaths"],datasets:[{label:"People",backgroundColor:["rgba(255, 0, 0, .5)","rgba(0, 255, 0, .5)","rgba(0, 0, 0, .5)"],data:[t.cases,t.recovered,t.deaths]}]},options:{legend:{display:!1},title:{display:!0,text:"Current state in ".concat(""===s?n:t.name)}}}):"Loading...";return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("div",{className:E.a.container,children:"line"===i?u:l}),Object(k.jsx)(D.a,{className:E.a.formControl,children:Object(k.jsx)(S.a,{variant:"outlined",onClick:function(e){d("line"===i?"bar":"line")},children:"line"===i?"Bar Chart":"Line Chart"})})]})},R=a(115),B=a(291),G=a(290),L=a(116),P=a.n(L),T=a(117),U=a.n(T),q=a(47),z=a.n(q),A=a(18),M=a.n(A),J="https://api.corona-zahlen.org/",V=function(){var e=Object(i.a)(o.a.mark((function e(t){var a,r,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a="".concat(J,"germany"),!t||"DE"===t){e.next=19;break}return a=isNaN(t)?"".concat(J,"states/").concat(t):"".concat(J,"districts/").concat(t),e.prev=3,e.next=6,M.a.get(a);case 6:if(200!==(r=e.sent).status){e.next=11;break}return e.abrupt("return",{cases:r.data.data[t].cases,deaths:r.data.data[t].deaths,recovered:r.data.data[t].recovered,name:r.data.data[t].name,weekIncidence:r.data.data[t].weekIncidence,casesPer100k:r.data.data[t].casesPer100k,delta:{cases:r.data.data[t].delta.cases,deaths:r.data.data[t].delta.deaths,recovered:r.data.data[t].delta.recovered},meta:{lastUpdate:r.data.meta.lastUpdate}});case 11:throw{name:"ResponseError",message:"GET Request returned not okay",toString:function(){return this.name+": "+this.message}};case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(3),console.error(e.t0);case 17:e.next=33;break;case 19:return e.prev=19,e.next=22,M.a.get(a);case 22:if(200!==(n=e.sent).status){e.next=27;break}return e.abrupt("return",n.data);case 27:throw{name:"ResponseError",message:"GET Request returned not okay",toString:function(){return this.name+": "+this.message}};case 28:e.next=33;break;case 30:e.prev=30,e.t1=e.catch(19),console.error(e.t1);case 33:case"end":return e.stop()}}),e,null,[[3,14],[19,30]])})));return function(t){return e.apply(this,arguments)}}(),W=function(){var e=Object(i.a)(o.a.mark((function e(t){var a,r,n,s,c,i,d,u,l,h,j,b,x,p,f,m,v,y,g,O,k,C,_;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||"DE"===t){e.next=29;break}return e.prev=1,a="",r="",n="",isNaN(t)?(a="".concat(J,"states/").concat(t,"/history/cases"),r="".concat(J,"states/").concat(t,"/history/recovered"),n="".concat(J,"states/").concat(t,"/history/deaths")):(a="".concat(J,"districts/").concat(t,"/history/cases"),r="".concat(J,"districts/").concat(t,"/history/recovered"),n="".concat(J,"districts/").concat(t,"/history/deaths")),e.next=8,M.a.get(a);case 8:return s=e.sent,e.next=11,M.a.get(r);case 11:return c=e.sent,e.next=14,M.a.get(n);case 14:if(i=e.sent,d=[],200!==s.status){e.next=21;break}for(u=0;u<s.data.data[t].history.length;u++)l=s.data.data[t].history[u].cases,h=c.data.data[t].history[u].recovered,j=i.data.data[t].history[u].deaths,b=s.data.data[t].history[u].date,x={cases:l,recovered:h,deaths:j,date:b},d.push(x);return e.abrupt("return",d);case 21:throw{name:"ResponseError",message:"GET Request returned not okay",toString:function(){return this.name+": "+this.message}};case 22:e.next=27;break;case 24:e.prev=24,e.t0=e.catch(1),console.error(e.t0);case 27:e.next=51;break;case 29:return e.prev=29,e.next=32,M.a.get("".concat(J,"germany/history/cases"));case 32:return p=e.sent,e.next=35,M.a.get("".concat(J,"germany/history/recovered"));case 35:return f=e.sent,e.next=38,M.a.get("".concat(J,"germany/history/deaths"));case 38:if(m=e.sent,v=[],200!==p.status||200!==f.status||200!==m.status){e.next=45;break}for(y=0;y<p.data.data.length;y++)g=p.data.data[y].cases,O=f.data.data[y].recovered,k=m.data.data[y].deaths,C=p.data.data[y].date,_={cases:g,recovered:O,deaths:k,date:C},v.push(_);return e.abrupt("return",v);case 45:throw{name:"ResponseError",message:"GET Request returned not okay",toString:function(){return this.name+": "+this.message}};case 46:e.next=51;break;case 48:e.prev=48,e.t1=e.catch(29),console.error(e.t1);case 51:case"end":return e.stop()}}),e,null,[[1,24],[29,48]])})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=Object(i.a)(o.a.mark((function e(){var t,a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M.a.get("".concat(J,"states"));case 3:if(200!==(t=e.sent).status){e.next=11;break}return a=t.data.data,r=[],Object.keys(a).forEach((function(e){r.push({short:e,long:a[e].name})})),e.abrupt("return",r);case 11:throw{name:"ResponseError",message:"GET Request returned not okay",toString:function(){return this.name+": "+this.message}};case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.error(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}}(),H=function(){var e=Object(i.a)(o.a.mark((function e(t){var a,r,n,s,c,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M.a.get("".concat(J,"districts"));case 3:if(200!==(a=e.sent).status){e.next=19;break}r=a.data.data,n=[],Object.keys(r).forEach((function(e){n.push({ags:r[e].ags,name:r[e].name,county:r[e].county})})),s=0,c=n;case 9:if(!(s<c.length)){e.next=16;break}if(-1===(i=c[s]).ags.indexOf(t)&&-1===i.county.toLowerCase().indexOf(t.toLowerCase())){e.next=13;break}return e.abrupt("return",i.ags);case 13:s++,e.next=9;break;case 16:return e.abrupt("return",NaN);case 19:throw{name:"ResponseError",message:"GET Request returned not okay",toString:function(){return this.name+": "+this.message}};case 20:e.next=25;break;case 22:e.prev=22,e.t0=e.catch(0),console.error(e.t0);case 25:case"end":return e.stop()}}),e,null,[[0,22]])})));return function(t){return e.apply(this,arguments)}}(),K=function(e){var t=e.handleCountryChange,a=e.country,n=e.handleDistrictChange,s=e.district,c=e.setDistrict,d=Object(r.useState)([]),u=Object(_.a)(d,2),l=u[0],h=u[1],j=Object(r.useState)(s),b=Object(_.a)(j,2),x=b[0],p=b[1];function f(){return(f=Object(i.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===s){e.next=5;break}c(""),p(""),e.next=9;break;case 5:return e.next=7,H(x);case 7:"NaN"!==(t=e.sent)?n(t):(c(""),p(s));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(r.useEffect)((function(){(function(){var e=Object(i.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=h,e.next=3,F();case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[h]),l?(console.log(s),Object(k.jsxs)("div",{className:z.a.forms,children:[Object(k.jsx)(D.a,{className:z.a.formControl,children:Object(k.jsxs)(R.a,{value:(console.log(a),a),onChange:function(e){return t(e.target.value)},children:[Object(k.jsx)("option",{value:"DE",children:"Germany"},"DE"),l.map((function(e){return Object(k.jsx)("option",{value:e.short,children:e.long},e.short)}))]})}),Object(k.jsx)(D.a,{className:z.a.formControl,children:Object(k.jsxs)("div",{className:z.a.searchBar,children:[Object(k.jsx)(B.a,{id:"outlined-search",label:"Search for district",type:"search",variant:"outlined",value:x,onChange:function(e){return p(e.target.value)}}),Object(k.jsx)(G.a,{"aria-label":"search",onClick:function(){return f.apply(this,arguments)},children:""===s?Object(k.jsx)(P.a,{}):Object(k.jsx)(U.a,{})})]})})]})):"Loading..."},Q=a(78),Y=a.n(Q),Z=function(e){var t=e.district;return Object(k.jsx)("div",{className:Y.a.container,children:Object(k.jsx)("img",{src:""!==t?"https://api.corona-zahlen.org/map/districts":"https://api.corona-zahlen.org/map/states",alt:"Heatmap of Corona incidences",className:Y.a.image})})},X=a(40),$=a.n(X),ee=function(e){Object(l.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(d.a)(this,a);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).state={data:{},daily:[],country:"germany",district:""},e.saveCountry=function(){localStorage.setItem("covid19.country",e.state.country)},e.getCountry=function(){return localStorage.getItem("covid19.country")},e.handleCountryChange=function(){var t=Object(i.a)(o.a.mark((function t(a){var r,n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,V(a);case 2:return r=t.sent,t.next=5,W(a);case 5:n=t.sent,e.setState({data:r,daily:n,country:a}),e.saveCountry();case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleDistrictChange=function(){var t=Object(i.a)(o.a.mark((function t(a){var r,n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,V(a);case 2:return r=t.sent,t.next=5,W(a);case 5:n=t.sent,e.setState({data:r,daily:n,district:a});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.setDistrict=function(t){e.setState({district:t})},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=Object(i.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null===this.getCountry()?(this.setState({country:"DE"}),this.saveCountry()):(this.setState({country:this.getCountry()}),console.log(this.state.country,this.getCountry())),this.setState({country:"DE"}),e.next=4,V();case 4:return t=e.sent,e.next=7,W();case 7:a=e.sent,this.setState({data:t,daily:a});case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.data,a=e.daily,r=e.country,n=e.district;return void 0!==t&&t.cases&&"germany"!==r?Object(k.jsxs)("div",{className:$.a.container,children:[Object(k.jsx)(j.a,{variant:"h1",className:$.a.headline,children:"Corona Tracker"}),Object(k.jsx)(C,{data:t}),Object(k.jsx)(K,{handleCountryChange:this.handleCountryChange,country:r,handleDistrictChange:this.handleDistrictChange,district:n,setDistrict:this.setDistrict}),Object(k.jsx)(I,{data:t,dailyData:a,country:r,district:n}),Object(k.jsx)(Z,{district:n}),Object(k.jsxs)("footer",{children:[Object(k.jsxs)(j.a,{variant:"body2",className:$.a.footer,children:["All values are provided by the ",t.meta.source]}),Object(k.jsxs)(j.a,{variant:"body2",className:$.a.footer,children:["API for better usage by ",t.meta.contact]})]})]}):Object(k.jsx)("div",{className:$.a.container,children:Object(k.jsx)(j.a,{variant:"h5",children:"Loading..."})})}}]),a}(r.Component);s.a.render(Object(k.jsx)(ee,{}),document.getElementById("root"))},40:function(e,t,a){e.exports={container:"App_container__NzWu7",headline:"App_headline__chFzv"}},47:function(e,t,a){e.exports={forms:"CountryPicker_forms__1Tazi",formControl:"CountryPicker_formControl__fHn0k",searchBar:"CountryPicker_searchBar__381QW"}},77:function(e,t,a){e.exports={container:"Chart_container__39cnM",formControl:"Chart_formControl__MwK79"}},78:function(e,t,a){e.exports={container:"Map_container__2Y1ZU",image:"Map_image__1MNUx"}}},[[252,1,2]]]);
//# sourceMappingURL=main.869553cb.chunk.js.map